!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).pSeamlessScroll=o()}(this,(function(){"use strict";function e(e,o){if(!function(){if(!o.el||!o.el instanceof HTMLElement)return console.error('请挂载正确的el元素！例如：document.getElementById("id")'),!1;if(!["up","down","left","right"].includes(o.config.direction))return console.error("请挂载正确的direction滚动方向！例如：up、down、left、right"),!1;if(o.config.speed<1||o.config.speed>1e5)return console.error("请挂载正确的speed滚动速度！例如：1-100000"),!1;if(o.config.loop&&1!=o.config.loop&&0!=o.config.loop)return console.error("请挂载正确的loop是否循环滚动！例如：true、false"),!1;if(o.config.hoverStop&&1!=o.config.hoverStop&&0!=o.config.hoverStop)return console.error("请挂载正确的hoverStop是否鼠标移入停止！例如：true、false"),!1;if(o.config.auto&&1!=o.config.auto&&0!=o.config.auto)return console.error("请挂载正确的auto是否自动滚动！例如：true、false"),!1;return!0}())return;let t=s(o.el),i=s(o.el.parentElement);if(t<i)return console.warn("滚动元素长度小于滚动视口长度，无需开启滚动！");let n=0;n=i>600?30:i>200?10:i>100?5:2;let r=0;"down"!=o.config.direction&&"right"!=o.config.direction||(r=-t,d());let l=o.el.children.length,c=0;for(let e=0;e<l&&(c+=s(o.el.children[e]),o.el.append(o.el.children[e].cloneNode(!0)),!(c>=i));e++);function s(e){return"down"==o.config.direction||"up"==o.config.direction?e.offsetHeight:"left"==o.config.direction||"right"==o.config.direction?e.offsetWidth:0}function f(){o.isStarted=!0,o.toStartFunction=null,o.timer&&clearInterval(o.timer),o.timer=setInterval((()=>{a()}),o.config.speed)}function a(){e.state.isPause||("up"==o.config.direction||"left"==o.config.direction?-1*r>=t&&o.config.loop?(r=0,d(),a()):(r-=n,u()):"down"!=o.config.direction&&"right"!=o.config.direction||(r>=0&&o.config.loop?(r=-t,d(),a()):(r+=n,u())))}function d(){"up"==o.config.direction||"down"==o.config.direction?o.el.animate({transform:"translate(0px, "+r+"px)"},{duration:0,fill:"forwards"}):"left"!=o.config.direction&&"right"!=o.config.direction||o.el.animate({transform:"translate("+r+"px, 0px)"},{duration:0,fill:"forwards"})}function u(){"up"==o.config.direction||"down"==o.config.direction?o.el.animate({transform:"translate(0px, "+r+"px)"},{duration:o.config.speed,fill:"forwards"}):"left"!=o.config.direction&&"right"!=o.config.direction||o.el.animate({transform:"translate("+r+"px, 0px)"},{duration:o.config.speed,fill:"forwards"})}o.config.hoverStop&&(o.el.onmouseover=()=>{e.state.isHover=!0,o.isHoverShield||(e.state.isPause=!0)},o.el.onmouseout=()=>{e.state.isHover=!1,o.isHoverShield||(e.state.isPause=!1)}),o.config.auto?f():o.toStartFunction=f}return class{constructor(o){let t={el:o.el,config:{direction:o.direction||"up",hoverStop:!1!==o.hoverStop,speed:o.speed||100,auto:!1!==o.auto,loop:!1!==o.loop},timer:null,isHoverShield:!1,isStarted:!1,toStartFunction:null};this.state={isHover:!1,isPause:!1},this.play=()=>{this.state.isPause=!1,t.isHoverShield=!1,t.isStarted||t.toStartFunction()},this.pause=()=>{this.state.isPause=!0,t.isHoverShield=!0},this.reload=o=>{if(o)for(let e in o)this.config[e]=o[e];e(this,t)},this.destroy=()=>{var e;(e=t).timer&&clearInterval(e.timer),e.config.hoverStop&&(e.el.onmouseover.remove(),e.el.onmouseout.remove()),e=null},this.getState=()=>this.state,e(this,t)}}}));
