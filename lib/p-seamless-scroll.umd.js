!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).pSeamlessScroll=o()}(this,(function(){"use strict";function e(e,o){if(!function(){if(!o.el||!o.el instanceof HTMLElement)return console.error('请挂载正确的el元素！例如：document.getElementById("id")'),!1;if(!["up","down","left","right"].includes(o.config.direction))return console.error("请挂载正确的direction滚动方向！例如：up、down、left、right"),!1;if(o.config.speed<1||o.config.speed>1e5)return console.error("请挂载正确的speed滚动速度！例如：1-100000"),!1;if(o.config.loop&&1!=o.config.loop&&0!=o.config.loop)return console.error("请挂载正确的loop是否循环滚动！例如：true、false"),!1;if(o.config.hoverStop&&1!=o.config.hoverStop&&0!=o.config.hoverStop)return console.error("请挂载正确的hoverStop是否鼠标移入停止！例如：true、false"),!1;if(o.config.auto&&1!=o.config.auto&&0!=o.config.auto)return console.error("请挂载正确的auto是否自动滚动！例如：true、false"),!1;return!0}())return;let i=l(o.el),t=l(o.el.parentElement);if(i<t)return console.warn("滚动元素长度小于滚动视口长度，无需开启滚动！");let n=0;"down"!=o.config.direction&&"right"!=o.config.direction||(n=-i);let r=o.el.children.length,f=0;for(let e=0;e<r&&(f+=l(o.el.children[e]),o.el.append(o.el.children[e].cloneNode(!0)),!(f>=t));e++);function l(e){return"down"==o.config.direction||"up"==o.config.direction?e.offsetHeight:"left"==o.config.direction||"right"==o.config.direction?e.offsetWidth:0}function c(){function t(){"up"==o.config.direction||"down"==o.config.direction?o.el.animate({transform:"translate(0px, "+n+"px)"},{duration:0,fill:"forwards"}):"left"!=o.config.direction&&"right"!=o.config.direction||o.el.animate({transform:"translate("+n+"px, 0px)"},{duration:0,fill:"forwards"}),c()}function r(){"up"==o.config.direction||"down"==o.config.direction?o.el.animate({transform:"translate(0px, "+n+"px)"},{duration:o.config.speed,fill:"forwards"}):"left"!=o.config.direction&&"right"!=o.config.direction||o.el.animate({transform:"translate("+n+"px, 0px)"},{duration:o.config.speed,fill:"forwards"})}e.state.isPause||("up"==o.config.direction||"left"==o.config.direction?-1*n>=i&&o.config.loop?(n=0,t()):(n-=10,r()):"down"!=o.config.direction&&"right"!=o.config.direction||(n>=0&&o.config.loop?(n=-i,t()):(n+=10,r())))}o.config.hoverStop&&(o.el.onmouseover=()=>{e.state.isHover=!0,o.isHoverShield||(e.state.isPause=!0)},o.el.onmouseout=()=>{e.state.isHover=!1,o.isHoverShield||(e.state.isPause=!1)}),o.config.auto&&function(){o.isStart=!0,o.timer&&clearInterval(o.timer);o.timer=setInterval((()=>{c()}),o.config.speed)}()}return class{constructor(o){let i={el:o.el,config:{direction:o.direction||"up",hoverStop:o.hoverStop||!0,speed:o.speed||100,auto:o.auto||!0,loop:o.loop||!0},timer:null,isHoverShield:!1,isStart:!1};this.state={isHover:!1,isPause:!1},this.api={play:()=>{this.state.isPause=!1,i.isHoverShield=!1,i.isStart||toStart()},pause:()=>{this.state.isPause=!0,i.isHoverShield=!0},reload:o=>{if(o)for(let e in o)this.config[e]=o[e];e(this,i)},destroy:()=>{var e;(e=i).timer&&clearInterval(e.timer),e.config.hoverStop&&(e.el.onmouseover.remove(),e.el.onmouseout.remove()),e=null},getState:()=>this.state},e(this,i)}}}));
